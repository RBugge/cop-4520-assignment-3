# <ins>Problem 2: Atmospheric Temperature Reading Module (50 points)</ins>

You are tasked with the design of the module responsible for measuring the atmospheric temperature of the next generation Mars Rover, equipped with a multi-core CPU and 8 temperature sensors. The sensors are responsible for collecting temperature readings at regular intervals and storing them in shared memory space. The atmospheric temperature module has to compile a report at the end of every hour, comprising the top 5 highest temperatures recorded for that hour, the top 5 lowest temperatures recorded for that hour, and the 10-minute interval of time when the largest temperature difference was observed. The data storage and retrieval of the shared memory region must be carefully handled, as we do not want to delay a sensor and miss the interval of time when it is supposed to conduct temperature reading.

Design and implement a solution using 8 threads that will offer a solution for this task. Assume that the temperature readings are taken every 1 minute. In your solution, simulate the operation of the temperature reading sensor by generating a random number from -100F to 70F at every reading. In your report, discuss the efficiency, correctness, and progress guarantee of your program.

## Implementation

My implementation simulates the scenario by using Java's countdown latches to ensure each thread is synced for each simulated time interval. Each sensor (thread) is designated an array list within an array where its temperature readings are recorded. Additionally, every temperature reading is recorded in a conncurrent linked deque. The latch is initialized at the number of threads plus 1 to include the main thread. Each thread contains a loop, each loop it countdowns, records a new random temperature reading, and awaits on the latch. The main thread waits until the latch reaches 1, then it resets the latch, checks if the program should stop and checks if it is the end of the hour (60 intervals). At the end of each hour, the report is compiled by sorting the deque, printing the first and last five elements which are the lowest five and highest five temperatures, and calculating the 10 minute interval of time which contains the greatest temperature difference. After the report, the deque and array lists of temperatures are cleared. The main thread then countdowns the old latch to release the sensor threads. When the program concludes the total number of readings is calculated and checked to be correct.
